$(document).ready(function(){$(".posts:eq(0)").on("click",".like-button",function(){let t=$("#hiddenControlLike").attr("data-control-like"),e=$(this);if(t){let t=e.next().children().eq(0),o=Number(t.html()),n=e.hasClass("liked-color"),a=e.attr("data-test"),i={};i.id=a,1==n?(i.flag=-1,o-=1):(i.flag=1,o+=1),$.ajax({type:"post",url:"/modifylike",data:i,dataType:"json"}).done(function(n){e.toggleClass("liked-color"),t.html(o)})}else $("#likeWarning").show(),setTimeout(function(){$("#likeWarning").hide("slow")},4e3)}),$(".posts:eq(0)").on("input",".comment-section input",function(){let t=$(this);""!=t.val()?t.next().children().eq(0).removeAttr("disabled"):t.next().children().eq(0).attr("disabled","disabled")}),$(".posts:eq(0)").on("submit",".comment-section>form",function(t){t.preventDefault();let e=$(this).find("input").eq(0),o=$(this).find("button").eq(0);o.toggleClass("btn-secondary"),o.html("Posting...");let n=e.attr("data-post-info"),a=e.val(),i={};i.description=a,i.post_id=n,$.ajax({type:"post",url:"/addcomment",data:i,dataType:"json"}).done(function(t){o.toggleClass("btn-secondary"),o.html("Post")})}),$(".posts:eq(0)").on("click",".view-all-comments",function(){let t=$(this).attr("data-post-info-2"),e={};e.id=t,$.ajax({type:"post",url:"/viewcomments",data:e,dataType:"json"}).done(function(t){let e=$("#commentsShowModal .modal-body:eq(0)");e.empty();let o='<div class="container">';0==t.length?o+='<div class="alert alert-info">Nothing so far...</div>':t.forEach(function(t){o+=`<div>\n                        <a href="/profile/${t.username}" style="text-decoration:none;">\n                            ${t.username}\n                        </a>&nbsp;\n                        <small class="text-muted">${t.timestamp}</small>\n                    <p>${t.description}</p>\n                    </div><hr/>`}),o+="</div>",e.append(o),$("#commentsShowModal").modal()})}),$(window).scroll(function(){$(this).scrollTop()>100?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){return $("body,html").animate({scrollTop:0},800),!1})});